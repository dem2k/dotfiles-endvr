{{- if eq .chezmoi.os "darwin" }}
    _TRASH_CMD=(trash)
{{ else }}
# Einmalige PrÃ¼fung beim Laden der Shell
if command -v trash-put >/dev/null 2>&1; then
    _TRASH_CMD=(trash-put)
elif command -v trash >/dev/null 2>&1; then
    _TRASH_CMD=(trash put)
else
    _TRASH_CMD=()
fi
{{- end }}

# Funktion mit Fallback
del() {
    if [[ $# -eq 0 ]]; then
        echo "Usage: del <files...>"
        return 1
    fi

    if [[ ${#_TRASH_CMD[@]} -gt 0 ]]; then
        "${_TRASH_CMD[@]}" "$@"
    else
        local trash_dir="$HOME/.local/share/Trash/mv@$(date +%Y%m%d%H%M%S)"
        mkdir -p "$trash_dir"
        mv "$@" "$trash_dir"
        echo "-> moved to $trash_dir"
    fi
}
